{"version":3,"sources":["../../../../lib/data.ts","../../../../lib/store.ts"],"sourcesContent":["export type Category = {\r\n  id: string;\r\n  name: string;\r\n};\r\n\r\nexport type Product = {\r\n  id: string;\r\n  name: string;\r\n  price: number;\r\n  categoryId: string;\r\n};\r\n\r\nexport const initialCategories: Category[] = [\r\n  { id: \"1\", name: \"الكل\" },\r\n  { id: \"2\", name: \"المقبلات\" },\r\n  { id: \"3\", name: \"الأطباق الرئيسية\" },\r\n  { id: \"4\", name: \"المشروبات\" },\r\n  { id: \"5\", name: \"الحلويات\" },\r\n];\r\n\r\nexport const initialProducts: Product[] = [\r\n  { id: \"101\", name: \"حمص باللحمة\", price: 25, categoryId: \"2\" },\r\n  { id: \"102\", name: \"متبل باذنجان\", price: 18, categoryId: \"2\" },\r\n  { id: \"201\", name: \"مشويات مشكلة\", price: 65, categoryId: \"3\" },\r\n  { id: \"202\", name: \"كبسة دجاج\", price: 45, categoryId: \"3\" },\r\n  { id: \"301\", name: \"عصير برتقال طازج\", price: 15, categoryId: \"4\" },\r\n  { id: \"302\", name: \"قهوة عربية\", price: 12, categoryId: \"4\" },\r\n  { id: \"401\", name: \"كنافة نابلسية\", price: 22, categoryId: \"5\" },\r\n  { id: \"402\", name: \"أم علي\", price: 20, categoryId: \"5\" },\r\n];\r\n","import { Category, Product, initialCategories, initialProducts } from \"./data\";\r\n\r\n// Singleton-style in-memory store\r\nclass Store {\r\n    private static instance: Store;\r\n    public categories: Category[] = [...initialCategories];\r\n    public products: Product[] = [...initialProducts];\r\n\r\n    private constructor() { }\r\n\r\n    public static getInstance(): Store {\r\n        if (!Store.instance) {\r\n            Store.instance = new Store();\r\n        }\r\n        return Store.instance;\r\n    }\r\n\r\n    // Category Actions\r\n    addCategory(name: string) {\r\n        const newCat = { id: Math.random().toString(36).substr(2, 9), name };\r\n        this.categories.push(newCat);\r\n        return newCat;\r\n    }\r\n\r\n    updateCategory(id: string, name: string) {\r\n        this.categories = this.categories.map(c => c.id === id ? { ...c, name } : c);\r\n    }\r\n\r\n    deleteCategory(id: string) {\r\n        this.categories = this.categories.filter(c => c.id !== id);\r\n        // Also remove products in this category? \r\n        // Usually yes, but for simplicity let's keep them and they just won't show if they aren't 'All'\r\n    }\r\n\r\n    // Product Actions\r\n    addProduct(name: string, price: number, categoryId: string) {\r\n        const newProd = {\r\n            id: Math.floor(Math.random() * 900 + 100).toString(),\r\n            name,\r\n            price,\r\n            categoryId\r\n        };\r\n        this.products.push(newProd);\r\n        return newProd;\r\n    }\r\n\r\n    updateProduct(id: string, name: string, price: number, categoryId: string) {\r\n        this.products = this.products.map(p => p.id === id ? { ...p, name, price, categoryId } : p);\r\n    }\r\n\r\n    deleteProduct(id: string) {\r\n        this.products = this.products.filter(p => p.id !== id);\r\n    }\r\n}\r\n\r\nexport const store = Store.getInstance();\r\n"],"names":[],"mappings":"uCAYO,IAAM,EAAgC,CAC3C,CAAE,GAAI,IAAK,KAAM,MAAO,EACxB,CAAE,GAAI,IAAK,KAAM,UAAW,EAC5B,CAAE,GAAI,IAAK,KAAM,kBAAmB,EACpC,CAAE,GAAI,IAAK,KAAM,WAAY,EAC7B,CAAE,GAAI,IAAK,KAAM,UAAW,EAC7B,CAEY,EAA6B,CACxC,CAAE,GAAI,MAAO,KAAM,cAAe,MAAO,GAAI,WAAY,GAAI,EAC7D,CAAE,GAAI,MAAO,KAAM,eAAgB,MAAO,GAAI,WAAY,GAAI,EAC9D,CAAE,GAAI,MAAO,KAAM,eAAgB,MAAO,GAAI,WAAY,GAAI,EAC9D,CAAE,GAAI,MAAO,KAAM,YAAa,MAAO,GAAI,WAAY,GAAI,EAC3D,CAAE,GAAI,MAAO,KAAM,mBAAoB,MAAO,GAAI,WAAY,GAAI,EAClE,CAAE,GAAI,MAAO,KAAM,aAAc,MAAO,GAAI,WAAY,GAAI,EAC5D,CAAE,GAAI,MAAO,KAAM,gBAAiB,MAAO,GAAI,WAAY,GAAI,EAC/D,CAAE,GAAI,MAAO,KAAM,SAAU,MAAO,GAAI,WAAY,GAAI,EACzD,AC1BD,OAAM,EACF,OAAe,QAAgB,CACxB,WAAyB,IAAI,EAAkB,AAAC,CAChD,SAAsB,IAAI,EAAgB,AAAC,AAIlD,QAAc,aAAqB,CAI/B,OAHI,AAAC,EAAM,QAAQ,EAAE,CACjB,EAAM,QAAQ,CAAG,IAAI,CAAA,EAElB,EAAM,QACjB,AADyB,CAIzB,YAAY,CAAY,CAAE,CACtB,IAAM,EAAS,CAAE,GAAI,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,EAAG,QAAI,CAAK,EAEnE,OADA,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GACd,CACX,CAEA,eAAe,CAAU,CAAE,CAAY,CAAE,CACrC,IAAI,CAAC,UAAU,CAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,GAAK,EAAE,EAAE,GAAK,EAAK,CAAE,GAAG,CAAC,MAAE,CAAK,EAAI,EAC9E,CAEA,eAAe,CAAU,CAAE,CACvB,IAAI,CAAC,UAAU,CAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAK,EAAE,EAAE,GAAK,EAG3D,CAGA,WAAW,CAAY,CAAE,CAAa,CAAE,CAAkB,CAAE,CACxD,IAAM,EAAU,CACZ,GAAI,KAAK,KAAK,CAAiB,IAAhB,KAAK,MAAM,GAAW,KAAK,QAAQ,GAClD,aACA,aACA,CACJ,EAEA,OADA,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GACZ,CACX,CAEA,cAAc,CAAU,CAAE,CAAY,CAAE,CAAa,CAAE,CAAkB,CAAE,CACvE,IAAI,CAAC,QAAQ,CAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAK,EAAE,EAAE,GAAK,EAAK,CAAE,GAAG,CAAC,MAAE,QAAM,aAAO,CAAW,EAAI,EAC7F,CAEA,cAAc,CAAU,CAAE,CACtB,IAAI,CAAC,QAAQ,CAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAK,EAAE,EAAE,GAAK,EACvD,CACJ,CAEO,IAAM,EAAQ,EAAM,WAAW"}